/****************************************************************************************************/
/**
\file       interrupt.c
\brief      Interrupt services.
\author     Abraham Tezmol
\version    1.0
\date       31/10/2008
*/
/****************************************************************************************************/

/*****************************************************************************************************
* Include files
*****************************************************************************************************/

/** Own headers */
/** Interrupt functions and definitions */
#include    "interrupt.h"

/** Used modules */

/*****************************************************************************************************
* Declaration of module wide FUNCTIONs 
*****************************************************************************************************/

/*****************************************************************************************************
* Definition of module wide MACROs / #DEFINE-CONSTANTs 
*****************************************************************************************************/

/*****************************************************************************************************
* Declaration of module wide TYPEs 
*****************************************************************************************************/

/*****************************************************************************************************
* Definition of module wide VARIABLEs 
*****************************************************************************************************/

/*****************************************************************************************************
* Definition of module wide (CONST-) CONSTANTs 
*****************************************************************************************************/

/*****************************************************************************************************
* Code of module wide FUNCTIONS
*****************************************************************************************************/

/****************************************************************************************************/
/**
* \brief    Interrupt Module - Initialization of interrupt vector table depending upon subsystem
* \author   Abraham Tezmol
* \param    Subsystem - Subsystem identifier
* \return   void
* \todo     
*/
void vfnInterrupt_Init( tSubsystemType Subsystem )
{
    switch(Subsystem)
    {
        
        case(BOOT):
        case(ASW_WO_BOOT):
            /* Initialize the interrupt vector base address for default location */
            IVBR = 0xFFu;
            //INT_CFADDR = 0x10;
            break;
        case (ASW_WITH_BOOT):
            /* Initialize the interrupt vector base address to a location where it does not conflict with boot table */
            IVBR = 0x7F;
            break;
        default:
            /* Initialize the interrupt vector base address for default location */
            IVBR = 0xFFu;
            break;    
    }
}

/****************************************************************************************************/